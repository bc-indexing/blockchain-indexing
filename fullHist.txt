andrey@andrey-hlf:~/Documents/insert-tpch/blockchain-indexing/blockchainIndexing$ ./startFabric.sh javascript
~/Documents/insert-tpch/blockchain-indexing/test-network ~/Documents/insert-tpch/blockchain-indexing/blockchainIndexing
Stopping network
Removing network fabric_test
WARNING: Network fabric_test not found.
Removing volume docker_orderer.example.com
WARNING: Volume docker_orderer.example.com not found.
Removing volume docker_peer0.org1.example.com
WARNING: Volume docker_peer0.org1.example.com not found.
Removing volume docker_peer0.org2.example.com
WARNING: Volume docker_peer0.org2.example.com not found.
Removing network fabric_test
WARNING: Network fabric_test not found.
Removing volume docker_peer0.org3.example.com
WARNING: Volume docker_peer0.org3.example.com not found.
No containers available for deletion
No images available for deletion
Creating channel 'mychannel'.
If network is not up, starting nodes with CLI timeout of '5' tries and CLI delay of '3' seconds and using database 'leveldb with crypto from 'Certificate Authorities'
Bringing up network
LOCAL_VERSION=2.4.6
DOCKER_IMAGE_VERSION=2.2.2
Local fabric binaries and docker images are out of  sync. This may cause problems.
CA_LOCAL_VERSION=1.5.5
CA_DOCKER_IMAGE_VERSION=1.4.9
Local fabric-ca binaries and docker images are out of sync. This may cause problems.
Generating certificates using Fabric CA
Creating network "fabric_test" with the default driver
Creating ca_orderer ... done
Creating ca_org2    ... done
Creating ca_org1    ... done
Creating Org1 Identities
Enrolling the CA admin
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:7054 --caname ca-org1 --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:48 [INFO] Created a default configuration file at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:48 [INFO] TLS Enabled
2023/02/21 19:52:48 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:48 [INFO] encoded CSR
2023/02/21 19:52:48 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:48 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/02/21 19:52:48 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/msp/IssuerPublicKey
2023/02/21 19:52:48 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/msp/IssuerRevocationPublicKey
Registering peer0
+ fabric-ca-client register --caname ca-org1 --id.name peer0 --id.secret peer0pw --id.type peer --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:48 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:48 [INFO] TLS Enabled
2023/02/21 19:52:48 [INFO] TLS Enabled
Password: peer0pw
Registering user
+ fabric-ca-client register --caname ca-org1 --id.name user1 --id.secret user1pw --id.type client --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:48 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:48 [INFO] TLS Enabled
2023/02/21 19:52:48 [INFO] TLS Enabled
Password: user1pw
Registering the org admin
+ fabric-ca-client register --caname ca-org1 --id.name org1admin --id.secret org1adminpw --id.type admin --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:49 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:49 [INFO] TLS Enabled
2023/02/21 19:52:49 [INFO] TLS Enabled
Password: org1adminpw
Generating the peer0 msp
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:7054 --caname ca-org1 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp --csr.hosts peer0.org1.example.com --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:49 [INFO] TLS Enabled
2023/02/21 19:52:49 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:49 [INFO] encoded CSR
2023/02/21 19:52:49 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:49 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/02/21 19:52:49 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/IssuerPublicKey
2023/02/21 19:52:49 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/msp/IssuerRevocationPublicKey
Generating the peer0-tls certificates
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:7054 --caname ca-org1 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls --enrollment.profile tls --csr.hosts peer0.org1.example.com --csr.hosts localhost --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:49 [INFO] TLS Enabled
2023/02/21 19:52:49 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:49 [INFO] encoded CSR
2023/02/21 19:52:49 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/signcerts/cert.pem
2023/02/21 19:52:49 [INFO] Stored TLS root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/tlscacerts/tls-localhost-7054-ca-org1.pem
2023/02/21 19:52:49 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/IssuerPublicKey
2023/02/21 19:52:49 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/IssuerRevocationPublicKey
Generating the user msp
+ fabric-ca-client enroll -u https://user1:user1pw@localhost:7054 --caname ca-org1 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:49 [INFO] TLS Enabled
2023/02/21 19:52:49 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:49 [INFO] encoded CSR
2023/02/21 19:52:50 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:50 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/02/21 19:52:50 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/IssuerPublicKey
2023/02/21 19:52:50 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp/IssuerRevocationPublicKey
Generating the org admin msp
+ fabric-ca-client enroll -u https://org1admin:org1adminpw@localhost:7054 --caname ca-org1 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org1/tls-cert.pem
2023/02/21 19:52:50 [INFO] TLS Enabled
2023/02/21 19:52:50 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:50 [INFO] encoded CSR
2023/02/21 19:52:50 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:50 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts/localhost-7054-ca-org1.pem
2023/02/21 19:52:50 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/IssuerPublicKey
2023/02/21 19:52:50 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/IssuerRevocationPublicKey
Creating Org2 Identities
Enrolling the CA admin
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:8054 --caname ca-org2 --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:50 [INFO] Created a default configuration file at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:50 [INFO] TLS Enabled
2023/02/21 19:52:50 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:50 [INFO] encoded CSR
2023/02/21 19:52:50 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:50 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/02/21 19:52:50 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/msp/IssuerPublicKey
2023/02/21 19:52:50 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/msp/IssuerRevocationPublicKey
Registering peer0
+ fabric-ca-client register --caname ca-org2 --id.name peer0 --id.secret peer0pw --id.type peer --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:50 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:50 [INFO] TLS Enabled
2023/02/21 19:52:50 [INFO] TLS Enabled
Password: peer0pw
Registering user
+ fabric-ca-client register --caname ca-org2 --id.name user1 --id.secret user1pw --id.type client --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:51 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:51 [INFO] TLS Enabled
2023/02/21 19:52:51 [INFO] TLS Enabled
Password: user1pw
Registering the org admin
+ fabric-ca-client register --caname ca-org2 --id.name org2admin --id.secret org2adminpw --id.type admin --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:51 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:51 [INFO] TLS Enabled
2023/02/21 19:52:51 [INFO] TLS Enabled
Password: org2adminpw
Generating the peer0 msp
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:8054 --caname ca-org2 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp --csr.hosts peer0.org2.example.com --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:51 [INFO] TLS Enabled
2023/02/21 19:52:51 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:51 [INFO] encoded CSR
2023/02/21 19:52:51 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:51 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/02/21 19:52:51 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/IssuerPublicKey
2023/02/21 19:52:51 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp/IssuerRevocationPublicKey
Generating the peer0-tls certificates
+ fabric-ca-client enroll -u https://peer0:peer0pw@localhost:8054 --caname ca-org2 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls --enrollment.profile tls --csr.hosts peer0.org2.example.com --csr.hosts localhost --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:52 [INFO] TLS Enabled
2023/02/21 19:52:52 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:52 [INFO] encoded CSR
2023/02/21 19:52:52 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/signcerts/cert.pem
2023/02/21 19:52:52 [INFO] Stored TLS root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/tlscacerts/tls-localhost-8054-ca-org2.pem
2023/02/21 19:52:52 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/IssuerPublicKey
2023/02/21 19:52:52 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/IssuerRevocationPublicKey
Generating the user msp
+ fabric-ca-client enroll -u https://user1:user1pw@localhost:8054 --caname ca-org2 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:52 [INFO] TLS Enabled
2023/02/21 19:52:52 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:52 [INFO] encoded CSR
2023/02/21 19:52:52 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:52 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/02/21 19:52:52 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/IssuerPublicKey
2023/02/21 19:52:52 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/User1@org2.example.com/msp/IssuerRevocationPublicKey
Generating the org admin msp
+ fabric-ca-client enroll -u https://org2admin:org2adminpw@localhost:8054 --caname ca-org2 -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/org2/tls-cert.pem
2023/02/21 19:52:52 [INFO] TLS Enabled
2023/02/21 19:52:52 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:52 [INFO] encoded CSR
2023/02/21 19:52:52 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:52 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/cacerts/localhost-8054-ca-org2.pem
2023/02/21 19:52:52 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/IssuerPublicKey
2023/02/21 19:52:52 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/IssuerRevocationPublicKey
Creating Orderer Org Identities
Enrolling the CA admin
+ fabric-ca-client enroll -u https://admin:adminpw@localhost:9054 --caname ca-orderer --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2023/02/21 19:52:52 [INFO] Created a default configuration file at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:52 [INFO] TLS Enabled
2023/02/21 19:52:52 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:52 [INFO] encoded CSR
2023/02/21 19:52:52 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/msp/signcerts/cert.pem
2023/02/21 19:52:52 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2023/02/21 19:52:52 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/msp/IssuerPublicKey
2023/02/21 19:52:52 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/msp/IssuerRevocationPublicKey
Registering orderer
+ fabric-ca-client register --caname ca-orderer --id.name orderer --id.secret ordererpw --id.type orderer --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2023/02/21 19:52:53 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:53 [INFO] TLS Enabled
2023/02/21 19:52:53 [INFO] TLS Enabled
Password: ordererpw
Registering the orderer admin
+ fabric-ca-client register --caname ca-orderer --id.name ordererAdmin --id.secret ordererAdminpw --id.type admin --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2023/02/21 19:52:53 [INFO] Configuration file location: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/fabric-ca-client-config.yaml
2023/02/21 19:52:53 [INFO] TLS Enabled
2023/02/21 19:52:53 [INFO] TLS Enabled
Password: ordererAdminpw
Generating the orderer msp
+ fabric-ca-client enroll -u https://orderer:ordererpw@localhost:9054 --caname ca-orderer -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp --csr.hosts orderer.example.com --csr.hosts localhost --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2023/02/21 19:52:53 [INFO] TLS Enabled
2023/02/21 19:52:53 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:53 [INFO] encoded CSR
2023/02/21 19:52:53 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/signcerts/cert.pem
2023/02/21 19:52:53 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2023/02/21 19:52:53 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/IssuerPublicKey
2023/02/21 19:52:53 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/IssuerRevocationPublicKey
Generating the orderer-tls certificates
+ fabric-ca-client enroll -u https://orderer:ordererpw@localhost:9054 --caname ca-orderer -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls --enrollment.profile tls --csr.hosts orderer.example.com --csr.hosts localhost --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2023/02/21 19:52:53 [INFO] TLS Enabled
2023/02/21 19:52:53 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:53 [INFO] encoded CSR
2023/02/21 19:52:54 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/signcerts/cert.pem
2023/02/21 19:52:54 [INFO] Stored TLS root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/tlscacerts/tls-localhost-9054-ca-orderer.pem
2023/02/21 19:52:54 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/IssuerPublicKey
2023/02/21 19:52:54 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/tls/IssuerRevocationPublicKey
Generating the admin msp
+ fabric-ca-client enroll -u https://ordererAdmin:ordererAdminpw@localhost:9054 --caname ca-orderer -M /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp --tls.certfiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/fabric-ca/ordererOrg/tls-cert.pem
2023/02/21 19:52:54 [INFO] TLS Enabled
2023/02/21 19:52:54 [INFO] generating key: &{A:ecdsa S:256}
2023/02/21 19:52:54 [INFO] encoded CSR
2023/02/21 19:52:54 [INFO] Stored client certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/signcerts/cert.pem
2023/02/21 19:52:54 [INFO] Stored root CA certificate at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/cacerts/localhost-9054-ca-orderer.pem
2023/02/21 19:52:54 [INFO] Stored Issuer public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/IssuerPublicKey
2023/02/21 19:52:54 [INFO] Stored Issuer revocation public key at /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/users/Admin@example.com/msp/IssuerRevocationPublicKey
Generating CCP files for Org1 and Org2
/home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/../bin/configtxgen
Generating Orderer Genesis block
+ configtxgen -profile TwoOrgsOrdererGenesis -channelID system-channel -outputBlock ./system-genesis-block/genesis.block
2023-02-21 19:52:54.652 MST 0001 INFO [common.tools.configtxgen] main -> Loading configuration
2023-02-21 19:52:54.676 MST 0002 INFO [common.tools.configtxgen.localconfig] completeInitialization -> orderer type: solo
2023-02-21 19:52:54.676 MST 0003 INFO [common.tools.configtxgen.localconfig] Load -> Loaded configuration: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/configtx/configtx.yaml
2023-02-21 19:52:54.690 MST 0004 INFO [common.tools.configtxgen] doOutputBlock -> Generating genesis block
2023-02-21 19:52:54.690 MST 0005 INFO [common.tools.configtxgen] doOutputBlock -> Creating system channel genesis block
2023-02-21 19:52:54.690 MST 0006 INFO [common.tools.configtxgen] doOutputBlock -> Writing genesis block
+ res=0
Creating volume "docker_orderer.example.com" with default driver
Creating volume "docker_peer0.org1.example.com" with default driver
Creating volume "docker_peer0.org2.example.com" with default driver
WARNING: Found orphan containers (ca_org2, ca_orderer, ca_org1) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up.
Creating peer0.org1.example.com ... done
Creating orderer.example.com    ... done
Creating peer0.org2.example.com ... done
Creating cli                    ... done
CONTAINER ID   IMAGE                            COMMAND                  CREATED          STATUS                  PORTS                                                                                                NAMES
121ba47e1838   hyperledger/fabric-tools:2.2     "/bin/bash"              1 second ago     Up Less than a second                                                                                                        cli
0621e616bb0c   hyperledger/fabric-peer:2.2      "peer node start"        5 seconds ago    Up 1 second             0.0.0.0:9051->9051/tcp, :::9051->9051/tcp, 7051/tcp, 0.0.0.0:19051->19051/tcp, :::19051->19051/tcp   peer0.org2.example.com
77239c818c01   hyperledger/fabric-orderer:2.2   "orderer"                5 seconds ago    Up 1 second             0.0.0.0:7050->7050/tcp, :::7050->7050/tcp, 0.0.0.0:17050->17050/tcp, :::17050->17050/tcp             orderer.example.com
01d073924976   hyperledger/fabric-peer:2.2      "peer node start"        5 seconds ago    Up 1 second             0.0.0.0:7051->7051/tcp, :::7051->7051/tcp, 0.0.0.0:17051->17051/tcp, :::17051->17051/tcp             peer0.org1.example.com
58bdb2d5eb28   hyperledger/fabric-ca:latest     "sh -c 'fabric-ca-se…"   17 seconds ago   Up 13 seconds           0.0.0.0:7054->7054/tcp, :::7054->7054/tcp, 0.0.0.0:17054->17054/tcp, :::17054->17054/tcp             ca_org1
f2468bdcd03d   hyperledger/fabric-ca:latest     "sh -c 'fabric-ca-se…"   17 seconds ago   Up 13 seconds           0.0.0.0:8054->8054/tcp, :::8054->8054/tcp, 7054/tcp, 0.0.0.0:18054->18054/tcp, :::18054->18054/tcp   ca_org2
2ae4e044a23c   hyperledger/fabric-ca:latest     "sh -c 'fabric-ca-se…"   17 seconds ago   Up 13 seconds           0.0.0.0:9054->9054/tcp, :::9054->9054/tcp, 7054/tcp, 0.0.0.0:19054->19054/tcp, :::19054->19054/tcp   ca_orderer
Generating channel create transaction 'mychannel.tx'
+ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/mychannel.tx -channelID mychannel
2023-02-21 19:53:00.670 MST 0001 INFO [common.tools.configtxgen] main -> Loading configuration
2023-02-21 19:53:00.692 MST 0002 INFO [common.tools.configtxgen.localconfig] Load -> Loaded configuration: /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/configtx/configtx.yaml
2023-02-21 19:53:00.692 MST 0003 INFO [common.tools.configtxgen] doOutputChannelCreateTx -> Generating new channel configtx
2023-02-21 19:53:00.705 MST 0004 INFO [common.tools.configtxgen] doOutputChannelCreateTx -> Writing new channel tx
+ res=0
Creating channel mychannel
Using organization 1
+ peer channel create -o localhost:7050 -c mychannel --ordererTLSHostnameOverride orderer.example.com -f ./channel-artifacts/mychannel.tx --outputBlock ./channel-artifacts/mychannel.block --tls --cafile /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ res=0
2023-02-21 19:53:03.858 MST 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-02-21 19:53:03.907 MST 0002 INFO [cli.common] readBlock -> Received block: 0
Channel 'mychannel' created
Joining org1 peer to the channel...
Using organization 1
+ peer channel join -b ./channel-artifacts/mychannel.block
+ res=0
2023-02-21 19:53:07.022 MST 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-02-21 19:53:07.061 MST 0002 INFO [channelCmd] executeJoin -> Successfully submitted proposal to join channel
Joining org2 peer to the channel...
Using organization 2
+ peer channel join -b ./channel-artifacts/mychannel.block
+ res=0
2023-02-21 19:53:10.170 MST 0001 INFO [channelCmd] InitCmdFactory -> Endorser and orderer connections initialized
2023-02-21 19:53:10.238 MST 0002 INFO [channelCmd] executeJoin -> Successfully submitted proposal to join channel
Setting anchor peer for org1...
Using organization 1
Fetching channel config for channel mychannel
Using organization 1
Fetching the most recent configuration block for the channel
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
2023-02-22 02:53:10.604 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2023-02-22 02:53:10.609 UTC [cli.common] readBlock -> INFO 002 Received block: 0
2023-02-22 02:53:10.609 UTC [channelCmd] fetch -> INFO 003 Retrieving last config block: 0
2023-02-22 02:53:10.615 UTC [cli.common] readBlock -> INFO 004 Received block: 0
Decoding config block to JSON and isolating config to Org1MSPconfig.json
+ jq '.data.data[0].payload.data.config'
+ configtxlator proto_decode --input config_block.pb --type common.Block
+ jq '.channel_group.groups.Application.groups.Org1MSP.values += {"AnchorPeers":{"mod_policy": "Admins","value":{"anchor_peers": [{"host": "peer0.org1.example.com","port": 7051}]},"version": "0"}}' Org1MSPconfig.json
Generating anchor peer update transaction for Org1 on channel mychannel
+ configtxlator proto_encode --input Org1MSPconfig.json --type common.Config
+ configtxlator proto_encode --input Org1MSPmodified_config.json --type common.Config
+ configtxlator compute_update --channel_id mychannel --original original_config.pb --updated modified_config.pb
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
+ jq .
++ cat config_update.json
+ echo '{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{' '"channel_id":' '"mychannel",' '"isolated_data":' '{},' '"read_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org1MSP":' '{' '"groups":' '{},' '"mod_policy":' '"",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '},' '"write_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org1MSP":' '{' '"groups":' '{},' '"mod_policy":' '"Admins",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"AnchorPeers":' '{' '"mod_policy":' '"Admins",' '"value":' '{' '"anchor_peers":' '[' '{' '"host":' '"peer0.org1.example.com",' '"port":' 7051 '}' ']' '},' '"version":' '"0"' '},' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
2023-02-22 02:53:11.068 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2023-02-22 02:53:11.087 UTC [channelCmd] update -> INFO 002 Successfully submitted channel update
Anchor peer set for org 'Org1MSP' on channel 'mychannel'
Setting anchor peer for org2...
Using organization 2
Fetching channel config for channel mychannel
Using organization 2
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
Fetching the most recent configuration block for the channel
2023-02-22 02:53:11.438 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2023-02-22 02:53:11.443 UTC [cli.common] readBlock -> INFO 002 Received block: 1
2023-02-22 02:53:11.444 UTC [channelCmd] fetch -> INFO 003 Retrieving last config block: 1
2023-02-22 02:53:11.446 UTC [cli.common] readBlock -> INFO 004 Received block: 1
Decoding config block to JSON and isolating config to Org2MSPconfig.json
+ configtxlator proto_decode --input config_block.pb --type common.Block
+ jq '.data.data[0].payload.data.config'
+ jq '.channel_group.groups.Application.groups.Org2MSP.values += {"AnchorPeers":{"mod_policy": "Admins","value":{"anchor_peers": [{"host": "peer0.org2.example.com","port": 9051}]},"version": "0"}}' Org2MSPconfig.json
Generating anchor peer update transaction for Org2 on channel mychannel
+ configtxlator proto_encode --input Org2MSPconfig.json --type common.Config
+ configtxlator proto_encode --input Org2MSPmodified_config.json --type common.Config
+ configtxlator compute_update --channel_id mychannel --original original_config.pb --updated modified_config.pb
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
+ jq .
++ cat config_update.json
+ echo '{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{' '"channel_id":' '"mychannel",' '"isolated_data":' '{},' '"read_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org2MSP":' '{' '"groups":' '{},' '"mod_policy":' '"",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"0"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '},' '"write_set":' '{' '"groups":' '{' '"Application":' '{' '"groups":' '{' '"Org2MSP":' '{' '"groups":' '{},' '"mod_policy":' '"Admins",' '"policies":' '{' '"Admins":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Endorsement":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Readers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '},' '"Writers":' '{' '"mod_policy":' '"",' '"policy":' null, '"version":' '"0"' '}' '},' '"values":' '{' '"AnchorPeers":' '{' '"mod_policy":' '"Admins",' '"value":' '{' '"anchor_peers":' '[' '{' '"host":' '"peer0.org2.example.com",' '"port":' 9051 '}' ']' '},' '"version":' '"0"' '},' '"MSP":' '{' '"mod_policy":' '"",' '"value":' null, '"version":' '"0"' '}' '},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"1"' '}' '},' '"mod_policy":' '"",' '"policies":' '{},' '"values":' '{},' '"version":' '"0"' '}' '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
2023-02-22 02:53:11.843 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2023-02-22 02:53:11.879 UTC [channelCmd] update -> INFO 002 Successfully submitted channel update
Anchor peer set for org 'Org2MSP' on channel 'mychannel'
Channel 'mychannel' joined
deploying chaincode on channel 'mychannel'
executing with the following
- CHANNEL_NAME: mychannel
- CC_NAME: blockchainIndexing
- CC_SRC_PATH: ../chaincode/blockchainIndexing/javascript/
- CC_SRC_LANGUAGE: javascript
- CC_VERSION: 1
- CC_SEQUENCE: 1
- CC_END_POLICY: NA
- CC_COLL_CONFIG: NA
- CC_INIT_FCN: initLedger
- DELAY: 3
- MAX_RETRY: 5
- VERBOSE: false
+ peer lifecycle chaincode package blockchainIndexing.tar.gz --path ../chaincode/blockchainIndexing/javascript/ --lang node --label blockchainIndexing_1
+ res=0
Chaincode is packaged
Installing chaincode on peer0.org1...
Using organization 1
+ peer lifecycle chaincode install blockchainIndexing.tar.gz
+ res=0
2023-02-21 19:53:33.191 MST 0001 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Installed remotely: response:<status:200 payload:"\nUblockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630\022\024blockchainIndexing_1" > 
2023-02-21 19:53:33.192 MST 0002 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Chaincode code package identifier: blockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630
Chaincode is installed on peer0.org1
Install chaincode on peer0.org2...
Using organization 2
+ peer lifecycle chaincode install blockchainIndexing.tar.gz
+ res=0
2023-02-21 19:53:53.167 MST 0001 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Installed remotely: response:<status:200 payload:"\nUblockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630\022\024blockchainIndexing_1" > 
2023-02-21 19:53:53.168 MST 0002 INFO [cli.lifecycle.chaincode] submitInstallProposal -> Chaincode code package identifier: blockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630
Chaincode is installed on peer0.org2
Using organization 1
+ peer lifecycle chaincode queryinstalled
+ res=0
Installed chaincodes on peer:
Package ID: blockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630, Label: blockchainIndexing_1
Query installed successful on peer0.org1 on channel
Using organization 1
+ peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --channelID mychannel --name blockchainIndexing --version 1 --package-id blockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630 --sequence 1 --init-required
+ res=0
2023-02-21 19:53:56.517 MST 0001 INFO [chaincodeCmd] ClientWait -> txid [7d9e256385b8dbf0124142c0414ef688b245a3857fab81cf213c940c87dc452d] committed with status (VALID) at localhost:7051
Chaincode definition approved on peer0.org1 on channel 'mychannel'
Using organization 1
Checking the commit readiness of the chaincode definition on peer0.org1 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org1, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name blockchainIndexing --version 1 --sequence 1 --init-required --output json
+ res=0
{
	"approvals": {
		"Org1MSP": true,
		"Org2MSP": false
	}
}
Checking the commit readiness of the chaincode definition successful on peer0.org1 on channel 'mychannel'
Using organization 2
Checking the commit readiness of the chaincode definition on peer0.org2 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org2, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name blockchainIndexing --version 1 --sequence 1 --init-required --output json
+ res=0
{
	"approvals": {
		"Org1MSP": true,
		"Org2MSP": false
	}
}
Checking the commit readiness of the chaincode definition successful on peer0.org2 on channel 'mychannel'
Using organization 2
+ peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --channelID mychannel --name blockchainIndexing --version 1 --package-id blockchainIndexing_1:ff9f6fd2beed7331372fa21e06dad8bd6d827710b0c63880030eff1515660630 --sequence 1 --init-required
+ res=0
2023-02-21 19:54:06.032 MST 0001 INFO [chaincodeCmd] ClientWait -> txid [d74603b44e19e05d25dbfe9b2b752fdff90e331ea2977d0418f5b9c5c4eecc1d] committed with status (VALID) at localhost:9051
Chaincode definition approved on peer0.org2 on channel 'mychannel'
Using organization 1
Checking the commit readiness of the chaincode definition on peer0.org1 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org1, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name blockchainIndexing --version 1 --sequence 1 --init-required --output json
+ res=0
{
	"approvals": {
		"Org1MSP": true,
		"Org2MSP": true
	}
}
Checking the commit readiness of the chaincode definition successful on peer0.org1 on channel 'mychannel'
Using organization 2
Checking the commit readiness of the chaincode definition on peer0.org2 on channel 'mychannel'...
Attempting to check the commit readiness of the chaincode definition on peer0.org2, Retry after 3 seconds.
+ peer lifecycle chaincode checkcommitreadiness --channelID mychannel --name blockchainIndexing --version 1 --sequence 1 --init-required --output json
+ res=0
{
	"approvals": {
		"Org1MSP": true,
		"Org2MSP": true
	}
}
Checking the commit readiness of the chaincode definition successful on peer0.org2 on channel 'mychannel'
Using organization 1
Using organization 2
+ peer lifecycle chaincode commit -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --channelID mychannel --name blockchainIndexing --peerAddresses localhost:7051 --tlsRootCertFiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses localhost:9051 --tlsRootCertFiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt --version 1 --sequence 1 --init-required
+ res=0
2023-02-21 19:54:15.568 MST 0001 INFO [chaincodeCmd] ClientWait -> txid [339c4095abacb1c101d175b2bd85407568ffbbc5a28bba0ba94c495e6da7bdf1] committed with status (VALID) at localhost:7051
2023-02-21 19:54:15.568 MST 0002 INFO [chaincodeCmd] ClientWait -> txid [339c4095abacb1c101d175b2bd85407568ffbbc5a28bba0ba94c495e6da7bdf1] committed with status (VALID) at localhost:9051
Chaincode definition committed on channel 'mychannel'
Using organization 1
Querying chaincode definition on peer0.org1 on channel 'mychannel'...
Attempting to Query committed status on peer0.org1, Retry after 3 seconds.
+ peer lifecycle chaincode querycommitted --channelID mychannel --name blockchainIndexing
+ res=0
Committed chaincode definition for chaincode 'blockchainIndexing' on channel 'mychannel':
Version: 1, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: [Org1MSP: true, Org2MSP: true]
Query chaincode definition successful on peer0.org1 on channel 'mychannel'
Using organization 2
Querying chaincode definition on peer0.org2 on channel 'mychannel'...
Attempting to Query committed status on peer0.org2, Retry after 3 seconds.
+ peer lifecycle chaincode querycommitted --channelID mychannel --name blockchainIndexing
+ res=0
Committed chaincode definition for chaincode 'blockchainIndexing' on channel 'mychannel':
Version: 1, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: [Org1MSP: true, Org2MSP: true]
Query chaincode definition successful on peer0.org2 on channel 'mychannel'
Using organization 1
Using organization 2
+ fcn_call='{"function":"initLedger","Args":[]}'
+ infoln 'invoke fcn call:{"function":"initLedger","Args":[]}'
+ println '\033[0;34minvoke fcn call:{"function":"initLedger","Args":[]}\033[0m'
+ echo -e '\033[0;34minvoke fcn call:{"function":"initLedger","Args":[]}\033[0m'
invoke fcn call:{"function":"initLedger","Args":[]}
+ peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n blockchainIndexing --peerAddresses localhost:7051 --tlsRootCertFiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses localhost:9051 --tlsRootCertFiles /home/andrey/Documents/insert-tpch/blockchain-indexing/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt --isInit -c '{"function":"initLedger","Args":[]}'
+ res=0
2023-02-21 19:54:22.098 MST 0001 INFO [chaincodeCmd] chaincodeInvokeOrQuery -> Chaincode invoke successful. result: status:200 
Invoke transaction successful on peer0.org1 peer0.org2 on channel 'mychannel'
~/Documents/insert-tpch/blockchain-indexing/blockchainIndexing

Total setup execution time : 112 secs ...

Next, use the BlockchainIndexing applications to interact with the deployed BlockchainIndexing contract.
The BlockchainIndexing applications are available in multiple programming languages.
Follow the instructions for the programming language of your choice:

JavaScript:

  Start by changing into the "javascript" directory:
    cd javascript

  Next, install all required packages:
    npm install

  Then run the following applications to enroll the admin user, and register a new user
  called appUser which will be used by the other applications to interact with the deployed
  BlockchainIndexing contract:
    node enrollAdmin
    node registerUser

  You can run the invoke application as follows. By default, the invoke application will
  create a new car, but you can update the application to submit other transactions:
    node invoke

  You can run the query application as follows. By default, the query application will
  return all cars, but you can update the application to evaluate other transactions:
    node query

TypeScript:

  Start by changing into the "typescript" directory:
    cd typescript

  Next, install all required packages:
    npm install

  Next, compile the TypeScript code into JavaScript:
    npm run build

  Then run the following applications to enroll the admin user, and register a new user
  called appUser which will be used by the other applications to interact with the deployed
  BlockchainIndexing contract:
    node dist/enrollAdmin
    node dist/registerUser

  You can run the invoke application as follows. By default, the invoke application will
  create a new car, but you can update the application to submit other transactions:
    node dist/invoke

  You can run the query application as follows. By default, the query application will
  return all cars, but you can update the application to evaluate other transactions:
    node dist/query

Java:

  Start by changing into the "java" directory:
    cd java

  Then, install dependencies and run the test using:
    mvn test

  The test will invoke the sample client app which perform the following:
    - Enroll admin and appUser and import them into the wallet (if they don't already exist there)
    - Submit a transaction to create a new car
    - Evaluate a transaction (query) to return details of this car
    - Submit a transaction to change the owner of this car
    - Evaluate a transaction (query) to return the updated details of this car

Go:

  Start by changing into the "go" directory:
    cd go

  Then, install dependencies and run the test using:
    go run blockchainIndexing.go

  The test will invoke the sample client app which perform the following:
    - Import user credentials into the wallet (if they don't already exist there)
    - Submit a transaction to create a new car
    - Evaluate a transaction (query) to return details of this car
    - Submit a transaction to change the owner of this car
    - Evaluate a transaction (query) to return the updated details of this car